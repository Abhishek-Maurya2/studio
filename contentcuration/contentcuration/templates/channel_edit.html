<!DOCTYPE HTML>
{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}

{% block content %}
	<script type="text/javascript" src="{% static 'js/bundles/channel_edit.js' %}"></script>

	<script>
		var channel = JSON.parse("{{ channel|escapejs}}");
		var channels = JSON.parse("{{ channels |escapejs }}");
		var accessible_channels = JSON.parse("{{ accessible_channels |escapejs }}");
		var license_list = JSON.parse("{{ license_list|escapejs}}");
		var fformats = JSON.parse("{{ fileformat_list|escapejs }}");
		var presets = JSON.parse("{{ fpreset_list|escapejs }}");
		var kinds = JSON.parse("{{ ckinds_list |escapejs }}");
		var channel_tags = JSON.parse("{{ ctags |escapejs }}");
		var user = JSON.parse("{{ current_user|escapejs }}");
	</script>
	<script type="text/javascript">
		var bundle = require("channel_edit");
		bundle.$(function() {
            window.channel_router = new bundle.ChannelEditRouter();
			bundle.Backbone.history.start({pushState: true, root: "{% url 'channels' %}"});
        });
    </script>

	<nav class="navbar" id="secondary-nav">
		<div class="spacing"></div>
		<ul class="nav navbar-nav navbar-left">
			<a href="edit"><li id="channel-edit-button" class="text-center pull-left">Edit</li></a>
			<a href="preview"><li id="channel-preview-button" class="text-center pull-left">Preview</li></a>
			<!--<a><li id="channel-trash-button" class="text-center pull-left">Trash</li></a>-->
		</ul>
		<ul class="nav navbar-nav navbar-right" id="publish">
			<!--<li id="channel-publish-button" class="text-center">Unpublish Selected</li>-->
			<li id="channel-publish-button" class="text-center">PUBLISH</li>
		</ul>
	</nav>
	<div id="channel-edit-content-wrapper">
		<div id="main-content-area" ></div>
		<div id="queue-area" class="container pull-right"></div>
	</div>

{% endblock content %}